# VibePong Data Dictionary

This document describes the structure and meaning of all data files generated by VibePong.

---

## File Overview

| File | Description | Recording Frequency |
|------|-------------|---------------------|
| `vibepong_summary_*.csv` | Per-game summary statistics | Once per game |
| `vibepong_actions_*.csv` | Event log of all game actions | Per event |
| `vibepong_telemetry_*.csv` | High-frequency position data | Every 100ms |

---

## 1. Summary Data (`vibepong_summary_*.csv`)

One row per player per game. Contains end-of-game statistics.

| Column | Data Type | Description | Example |
|--------|-----------|-------------|---------|
| `Game ID` | String | Unique identifier for the game | `G1770701255651-120` |
| `Date` | ISO 8601 | When the game was played | `2026-02-10T05:27:57.952Z` |
| `Duration (s)` | Float | Total game duration in seconds | `22.30` |
| `Winner` | String | Name of the winning player | `Sune` |
| `Ball Speed` | Float | Final ball speed at game end | `8.50` |
| `Theme` | String | Visual theme used (`dark` or `light`) | `dark` |
| `Language` | String | Language setting | `en` |
| `Player` | String | Player name for this row | `Sune` |
| `Lives` | Integer | Lives remaining at game end | `1` |
| `Hits` | Integer | Total successful paddle hits | `6` |
| `CPU Difficulty` | String | AI difficulty (`easy`, `normal`, `hard`) or `N/A` | `hard` |

---

## 2. Action Log (`vibepong_actions_*.csv`)

Event-based log recording all significant game events.

| Column | Data Type | Description | Example |
|--------|-----------|-------------|---------|
| `Game ID` | String | Game identifier (FK to summary) | `G1770701255651-120` |
| `Timestamp (ms)` | Integer | Milliseconds since game start | `4802` |
| `Player` | String | Who performed the action | `Sune` |
| `Action` | String | What happened | `Hit Ball` |
| `Details` | JSON | Additional structured data | `{"ballSpeed": "6.50"}` |

### Common Action Types

| Action | Description | Details Included |
|--------|-------------|------------------|
| `Ball served towards {player}` | Ball reset after point | `targetPlayer`, `targetPlayerId`, `serveAngle` |
| `Hit Ball` | Successful paddle hit | `ballSpeed`, `hitPosition`, `rallyHits` |
| `Lost Life. Remaining: {n}` | Player missed ball | `missLocation`, `ballSpeed`, `rallyHits` |
| `Eliminated` | Player out of lives | `survivalTime` |

---

## 3. Telemetry Data (`vibepong_telemetry_*.csv`)

High-frequency sampled data (10Hz / every 100ms) capturing complete game state.

### Core Columns

| Column | Data Type | Description | Units |
|--------|-----------|-------------|-------|
| `Game ID` | String | Game identifier | - |
| `Timestamp (ms)` | Integer | Time since game start | milliseconds |
| `Ball X` | Float | Ball horizontal position | pixels (0 to 800) |
| `Ball Y` | Float | Ball vertical position | pixels (0 to 600) |
| `Ball VX` | Float | Ball horizontal velocity | pixels/frame |
| `Ball VY` | Float | Ball vertical velocity | pixels/frame |
| `Ball Speed` | Float | Total ball speed magnitude | pixels/frame |

### Player-Specific Columns (Per Player)

For each player (`p1`, `p2`, `p3`, `p4`), the following columns are generated:

| Column Pattern | Description | Units |
|----------------|-------------|-------|
| `{pX} X` | Paddle horizontal position (left edge) | pixels |
| `{pX} Y` | Paddle vertical position (top edge) | pixels |
| `{pX} Center` | Paddle center coordinate | pixels |
| `{pX} Active` | Whether player is still in game (1=yes, 0=no) | boolean |
| `{pX} Lives` | Current lives remaining | integer |
| `{pX} Distance` | Paddle movement since last sample | pixels |

### Example Row Interpretation

```
Game ID: G1770701255651-120
Timestamp (ms): 4500
Ball X: 400.50, Ball Y: 300.25
Ball VX: 5.23, Ball VY: -2.11, Ball Speed: 5.65
p1 Y: 250.00, p1 Center: 300.00, p1 Active: 1, p1 Lives: 3, p1 Distance: 15.50
```

**Interpretation**: At 4.5 seconds into the game, the ball is at position (400.5, 300.25) moving right and slightly up at speed 5.65. Player 1's paddle is at vertical position 250, has 3 lives remaining, and moved 15.5 pixels since the last sample (100ms ago).

---

## Data Relationships

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│ vibepong_summary │────│ vibepong_actions│     │vibepong_telemetry│
│  (1 row/player)  │     │  (many events)  │     │  (10 samples/sec)│
└─────────────────┘     └─────────────────┘     └─────────────────┘
         │                       │                       │
         └───────────────────────┴───────────────────────┘
                           │
                    ┌─────────────┐
                    │  Game ID    │
                    │  (Primary   │
                    │   Key)      │
                    └─────────────┘
```

---

## Notes for Analysis

1. **Sampling Rate**: Telemetry is recorded at 10Hz (every 100ms). A 30-second game generates approximately 300 telemetry rows.

2. **Ball Physics**: Ball speed increases by approximately 1% per second during gameplay (visible in telemetry as upward trend in `Ball Speed`).

3. **Coordinate Systems**:
   - 2P mode: 800x600 court
   - 3P/4P mode: 700x700 square court
   - Origin (0,0) is top-left corner

4. **Missing Data**: Players eliminated mid-game will have `Active=0` and no further position updates in telemetry.
